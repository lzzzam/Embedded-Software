/**
  ******************************************************************************
  * @file    main.c
  * @author  Auto-generated by STM32CubeIDE
  * @version V1.0
  * @brief   Default main function.
  ******************************************************************************
*/

#include <stdint.h>

#if !defined(__SOFT_FP__) && defined(__ARM_FP)
  #warning "FPU is not initialized, but the project is compiling for an FPU. Please initialize the FPU before use."
#endif

#define RCC_CFGR_ADDR		 *((uint32_t *)0x40021004UL)
#define RCC_AHBENR_ADDR		 *((uint32_t *)0x40021014UL)
#define GPIOA_MODER_ADDR	 *((uint32_t *)0x48000000UL)
#define GPIOA_ODR_ADDR	 	 *((uint32_t *)0x48000014UL)

int main(void)
{
	uint32_t counter = 0;

	//set AHB System Clock Prescaler to 512
	//RCC_CFGR_ADDR |= (0xF << 4);

	//enable IO Port A clock
	RCC_AHBENR_ADDR |= (1 << 17);

	//set Pin 5 of Port A as output
	GPIOA_MODER_ADDR |= (1 << 10);

	while(1)
	{
		counter++;
		if(counter == 8000000){
			counter = 0;
			GPIOA_ODR_ADDR ^= (1 << 5);
		}
	}

	for(;;);

}
